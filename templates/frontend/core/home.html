{% extends 'frontend/base.html' %}


{% block content %}
    <div class="job-listing-area pt-150 pb-3 bg-color">
        <div class="container">
            <div class="job-listing-top">
                <div class="row align-items-center">
                    <div class="col-lg-12">
                        <div class="job-listing-form">
                            <form>
                                <div class="row align-items-center">
                                    <div class="col-lg-3 col-md-4">
                                        <div class="form-group">
                                            <input class="form-control" type="text" placeholder="Mots clÃ©s">
                                            <i class="ri-search-line"></i>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-4">
                                       <div class="form-group select-group">
                                            <select class="form-select form-control">
                                                <option data-display="Ville ou commune">Ville ou commune</option>
                                                {% for city in cities %}
                                                <option value="1">{{ city.name }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-4">
                                        <div class="form-group select-group">
                                            <select class="form-select form-control">
                                                <option data-display="Domaine">Domaine</option>
                                                {% for domain in domains %}
                                                <option value="1">{{ domain.name }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-12">
                                        <button type="submit" class="submit-btn border-radius-5">
                                            <i class="ri-search-line fs-5"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="job-listing-area pt-2 pb-70" style="background: #f1f1f1">
        <div class="container">
            <div class="row">
                <div class="col-lg-4" hx-target="#job-list-content" hx-swap="outerHTML show:top" hx-include="#filter-form">
                    <form id="filter-form">
                        <div class="job-listing-side-bar">
                            <div class="job-listing-widget">
                                <ul class="accordion-widget">
                                    <li class="accordion-widget-item">
                                        <a class="accordion-widget-title" href="javascript:void(0)">
                                            <i class="ri-arrow-down-s-line"></i>
                                            Type d'emploi
                                        </a>
                                        <ul class="accordion-widget-content show">
                                            {% for type_of_job in type_of_jobs %}
                                                <li>
                                                    <input id="check-job-{{ type_of_job.id }}" type="checkbox" name="type_of_job" value="{{ type_of_job.id }}" hx-get="{% url 'core:home' %}">
                                                    <label for="check-job-{{ type_of_job.id }}">{{ type_of_job.name }} <span class="fl">{{ type_of_job.jobs.count }}</span></label>
                                                </li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="job-listing-widget">
                                <ul class="accordion-widget">
                                    <li class="accordion-widget-item">
                                        <a class="accordion-widget-title" href="javascript:void(0)">
                                            <i class="ri-arrow-down-s-line"></i>
                                            Domaines
                                        </a>
                                        <ul class="accordion-widget-content show">
                                            {% for domain in domains %}
                                                {% if domain.jobs.count > 0 %}
                                                    <li>
                                                        <input id="check-{{ domain.name }}" type="checkbox" name="domain" value="{{ domain.id }}" hx-get="{% url 'core:home' %}">
                                                        <label for="check-{{ domain.name }}">{{ domain.name }} <span class="fl">{{ domain.jobs.count }}</span></label>
                                                    </li>
                                                {% endif %}
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="job-listing-widget">
                                <ul class="accordion-widget">
                                    <li class="accordion-widget-item">
                                        <a class="accordion-widget-title" href="javascript:void(0)">
                                            <i class="ri-arrow-down-s-line"></i>
                                            Ville ou Commune
                                        </a>
                                        <ul class="accordion-widget-content show">
                                            {% for city in cities %}
                                                {% if city.jobs.count > 0 %}
                                                    <li>
                                                        <input id="check-{{ city.name }}" type="checkbox" name="city" value="{{ city.id }}" hx-get="{% url 'core:home' %}">
                                                        <label for="check-{{ city.name }}">{{ city.name }} <span class="fl">{{ city.jobs.count }}</span></label>
                                                    </li>
                                                {% endif %}
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
                {% include 'frontend/recruitment/partials/list_reports_card.html' %}
            </div>
        </div>
    </div>
{% endblock %}