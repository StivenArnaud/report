<!-- Tableau pour desktop -->
<div class="table-responsive desktop-table">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Actif ?</th>
                {% for date in week_days %}
                <th class="date-cell">{{ date|date:"D j" }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for person in people_data %}
            <tr>
                <td>{{ person.name }}</td>
                <td>
                    {% if person.inserted %}
                    <span class="status-dot inserted"></span> Oui
                    {% else %}
                    <span class="status-dot not-inserted"></span> Non
                    {% endif %}
                </td>
                {% for day in person.days %}
                <td>
                    {% if day.transmitted %}
                    <span class="status-square transmitted"></span> Transmis
                    {% else %}
                    <span class="status-square not-transmitted"></span>
                    {% endif %}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="card">
        <h5 class="card-header">Statistiques</h5>
        <div class="card-body d-flex justify-content-start align-items-center gap-3">
            <div><span class="status-square transmitted"></span> {{ percent_published|floatformat:'2' }} % Transmis</div>
            <div><span class="status-square not-transmitted"></span> {{ percent_not_published|floatformat:'2' }} % Non transmis</div>
        </div>
    </div>
</div>

<!-- Affichage mobile -->
<div class="mobile-table">
    {% for day_index in week_days %}
    <div class="mobile-day-header" id="mobile-day-{{ forloop.counter }}">
        <!-- Le contenu sera rempli par JavaScript -->
        {{ day_index|date:"l d F Y" }}
    </div>
    {% for person in people_data %}
    <div class="mobile-person-row">
        <div class="mobile-person-name">{{ person.name }}</div>
        <div class="mobile-status">
            {% if person.inserted %}
            <span class="status-dot inserted"></span> Inserté
            {% else %}
            <span class="status-dot not-inserted"></span> Non inserté
            {% endif %}
            &nbsp;|&nbsp;

            {% if person.transmitted %}
            <span class="status-square transmitted"></span> Transmis
            {% else %}
            <span class="status-square not-transmitted"></span> Non transmis
            {% endif %}
        </div>
    </div>
    {% endfor %}
    {% endfor %}
</div>